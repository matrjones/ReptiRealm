{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/antho/Desktop/ChatBot/source/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { c as _c } from \"react/compiler-runtime\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport * as signalR from \"@microsoft/signalr\";\nimport { useSearchParams } from \"next/navigation\";\nimport { ThumbsUp, Heart, Laugh } from \"lucide-react\";\nimport { Picker } from \"ms-3d-emoji-picker\";\nimport { v4 as uuidv4 } from \"uuid\";\nexport default function ChatPage() {\n  const $ = _c(36);\n  if ($[0] !== \"751b91dff99ad4d9fbdc4314e4b9add14ee1e44a768e7f2a48e802272328bea9\") {\n    for (let $i = 0; $i < 36; $i += 1) {\n      $[$i] = Symbol.for(\"react.memo_cache_sentinel\");\n    }\n    $[0] = \"751b91dff99ad4d9fbdc4314e4b9add14ee1e44a768e7f2a48e802272328bea9\";\n  }\n  let t0;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = [];\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  const [messages, setMessages] = useState(t0);\n  const [input, setInput] = useState(\"\");\n  const messagesEndRef = useRef(null);\n  const [connection, setConnection] = useState(null);\n  const searchParams = useSearchParams();\n  let t1;\n  if ($[2] !== searchParams) {\n    t1 = searchParams.get(\"username\") || \"Guest\";\n    $[2] = searchParams;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const username = t1;\n  let t2;\n  let t3;\n  if ($[4] !== username) {\n    t2 = () => {\n      const newConnection = new signalR.HubConnectionBuilder().withUrl(\"https://localhost:55161/chatHub\").withAutomaticReconnect().build();\n      newConnection.start().then(_temp).catch(_temp2);\n      newConnection.on(\"ReceiveMessage\", (user, message) => {\n        if (user === username) {\n          return;\n        }\n        console.log(message.guid);\n        setMessages(prev => [...prev, {\n          ...message,\n          sender: user\n        }]);\n      });\n      setConnection(newConnection);\n      return () => {\n        newConnection.stop();\n      };\n    };\n    t3 = [username];\n    $[4] = username;\n    $[5] = t2;\n    $[6] = t3;\n  } else {\n    t2 = $[5];\n    t3 = $[6];\n  }\n  useEffect(t2, t3);\n  let t4;\n  if ($[7] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = () => {\n      messagesEndRef.current?.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    };\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  let t5;\n  if ($[8] !== messages) {\n    t5 = [messages];\n    $[8] = messages;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  useEffect(t4, t5);\n  let t6;\n  if ($[10] !== connection || $[11] !== input || $[12] !== username) {\n    t6 = async () => {\n      if (!input.trim() || !connection) {\n        return;\n      }\n      const newMessage = {\n        guid: uuidv4(),\n        text: input,\n        timestamp: new Date().toLocaleTimeString(),\n        likes: 0,\n        likedBy: [],\n        reactions: [],\n        selector: false,\n        sender: username\n      };\n      setMessages(prev_0 => [...prev_0, newMessage]);\n      setInput(\"\");\n      ;\n      try {\n        await connection.invoke(\"SendMessage\", username, newMessage);\n      } catch (t7) {\n        const err_0 = t7;\n        console.error(\"Error sending message:\", err_0);\n      }\n    };\n    $[10] = connection;\n    $[11] = input;\n    $[12] = username;\n    $[13] = t6;\n  } else {\n    t6 = $[13];\n  }\n  const handleSendMessage = t6;\n  let t7;\n  if ($[14] !== messages || $[15] !== username) {\n    let t8;\n    if ($[17] !== username) {\n      t8 = (msg, index) => <div key={msg.guid} className={`max-w-lg p-3 rounded-lg flex flex-col ${msg.sender === username ? \"bg-blue-700 ml-auto text-white\" : \"bg-gray-700 mr-auto text-white\"}`}><div className=\"flex justify-between text-gray-400 text-sm mb-1\"><span>{msg.sender}</span><span>{msg.timestamp}</span></div><motion.div initial={{\n          opacity: 0,\n          y: 10\n        }} animate={{\n          opacity: 1,\n          y: 0\n        }} transition={{\n          duration: 0.3\n        }}>{msg.text}</motion.div><div className=\"flex gap-2 mt-1 text-gray-400 self-end\"><ThumbsUp className=\"w-5 h-5 cursor-pointer hover:text-blue-400\" /><Heart className=\"w-5 h-5 cursor-pointer hover:text-red-400\" /><Laugh className=\"w-5 h-5 cursor-pointer hover:text-yellow-400\" /><div className=\"fixed my-10\"><Picker isOpen={true} handleEmojiSelect={_temp3} /></div></div></div>;\n      $[17] = username;\n      $[18] = t8;\n    } else {\n      t8 = $[18];\n    }\n    t7 = messages.map(t8);\n    $[14] = messages;\n    $[15] = username;\n    $[16] = t7;\n  } else {\n    t7 = $[16];\n  }\n  let t8;\n  if ($[19] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = <div ref={messagesEndRef} />;\n    $[19] = t8;\n  } else {\n    t8 = $[19];\n  }\n  let t9;\n  if ($[20] !== t7) {\n    t9 = <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">{t7}{t8}</div>;\n    $[20] = t7;\n    $[21] = t9;\n  } else {\n    t9 = $[21];\n  }\n  let t10;\n  if ($[22] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t10 = e => setInput(e.target.value);\n    $[22] = t10;\n  } else {\n    t10 = $[22];\n  }\n  let t11;\n  if ($[23] !== handleSendMessage) {\n    t11 = e_0 => e_0.key === \"Enter\" && handleSendMessage();\n    $[23] = handleSendMessage;\n    $[24] = t11;\n  } else {\n    t11 = $[24];\n  }\n  let t12;\n  if ($[25] !== input || $[26] !== t11) {\n    t12 = <input type=\"text\" className=\"flex-1 p-2 bg-gray-900 text-white rounded-lg outline-none border border-gray-600 focus:border-blue-400\" placeholder=\"Type a message...\" value={input} onChange={t10} onKeyDown={t11} />;\n    $[25] = input;\n    $[26] = t11;\n    $[27] = t12;\n  } else {\n    t12 = $[27];\n  }\n  let t13;\n  if ($[28] !== handleSendMessage) {\n    t13 = <button onClick={handleSendMessage} className=\"px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500 transition\">Send</button>;\n    $[28] = handleSendMessage;\n    $[29] = t13;\n  } else {\n    t13 = $[29];\n  }\n  let t14;\n  if ($[30] !== t12 || $[31] !== t13) {\n    t14 = <div className=\"p-4 border-t border-gray-700 bg-slate-800\"><div className=\"flex items-center gap-2\">{t12}{t13}</div></div>;\n    $[30] = t12;\n    $[31] = t13;\n    $[32] = t14;\n  } else {\n    t14 = $[32];\n  }\n  let t15;\n  if ($[33] !== t14 || $[34] !== t9) {\n    t15 = <div className=\"w-screen h-screen flex flex-col bg-slate-900 text-white\">{t9}{t14}</div>;\n    $[33] = t14;\n    $[34] = t9;\n    $[35] = t15;\n  } else {\n    t15 = $[35];\n  }\n  return t15;\n}\nfunction _temp3(selectedEmoji) {\n  return console.log(selectedEmoji);\n}\nfunction _temp2(err) {\n  return console.error(\"SignalR Connection Error:\", err);\n}\nfunction _temp() {\n  return console.log(\"Connected to SignalR\");\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}